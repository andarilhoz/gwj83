[gd_scene load_steps=53 format=3 uid="uid://bbxv486ri4pxd"]

[ext_resource type="Script" uid="uid://b4ymxb2exqw5j" path="res://src/scripts/player.gd" id="1_v4rts"]
[ext_resource type="Texture2D" uid="uid://d0iyl7lncguop" path="res://src/assets/SlimeCharacter/SlimeCharacter.png" id="2_l2v1k"]
[ext_resource type="Script" uid="uid://bahh1mknjhcs5" path="res://src/scripts/tile_movement_component.gd" id="3_ya6j6"]
[ext_resource type="Script" uid="uid://bqpu7nte3oa33" path="res://src/scripts/energy_component.gd" id="4_0qy4j"]
[ext_resource type="PackedScene" uid="uid://dgjak0e8dbrpp" path="res://src/scenes/EnemyInsideSlime.tscn" id="5_ya6j6"]

[sub_resource type="CircleShape2D" id="CircleShape2D_h2yge"]
radius = 124.016

[sub_resource type="AtlasTexture" id="AtlasTexture_l2v1k"]
atlas = ExtResource("2_l2v1k")
region = Rect2(256, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ya6j6"]
atlas = ExtResource("2_l2v1k")
region = Rect2(192, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0qy4j"]
atlas = ExtResource("2_l2v1k")
region = Rect2(256, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_4pcbe"]
atlas = ExtResource("2_l2v1k")
region = Rect2(384, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_8v6aa"]
atlas = ExtResource("2_l2v1k")
region = Rect2(320, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_xvyn7"]
atlas = ExtResource("2_l2v1k")
region = Rect2(0, 320, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0hlw3"]
atlas = ExtResource("2_l2v1k")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_4vu8n"]
atlas = ExtResource("2_l2v1k")
region = Rect2(256, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_kc20y"]
atlas = ExtResource("2_l2v1k")
region = Rect2(320, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_lsi8j"]
atlas = ExtResource("2_l2v1k")
region = Rect2(384, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_hhiii"]
atlas = ExtResource("2_l2v1k")
region = Rect2(0, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wpkk7"]
atlas = ExtResource("2_l2v1k")
region = Rect2(64, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_myy50"]
atlas = ExtResource("2_l2v1k")
region = Rect2(128, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_usugt"]
atlas = ExtResource("2_l2v1k")
region = Rect2(192, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_3qshy"]
atlas = ExtResource("2_l2v1k")
region = Rect2(256, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5acq0"]
atlas = ExtResource("2_l2v1k")
region = Rect2(192, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5h06g"]
atlas = ExtResource("2_l2v1k")
region = Rect2(128, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_twf7n"]
atlas = ExtResource("2_l2v1k")
region = Rect2(64, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qmjc7"]
atlas = ExtResource("2_l2v1k")
region = Rect2(0, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ybrxc"]
atlas = ExtResource("2_l2v1k")
region = Rect2(256, 320, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_fkrvq"]
atlas = ExtResource("2_l2v1k")
region = Rect2(320, 320, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_op12o"]
atlas = ExtResource("2_l2v1k")
region = Rect2(384, 320, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_b6jla"]
atlas = ExtResource("2_l2v1k")
region = Rect2(256, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_vwic4"]
atlas = ExtResource("2_l2v1k")
region = Rect2(320, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_epw4f"]
atlas = ExtResource("2_l2v1k")
region = Rect2(384, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wu81v"]
atlas = ExtResource("2_l2v1k")
region = Rect2(0, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_whrvk"]
atlas = ExtResource("2_l2v1k")
region = Rect2(64, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_n0oma"]
atlas = ExtResource("2_l2v1k")
region = Rect2(128, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_vmqm0"]
atlas = ExtResource("2_l2v1k")
region = Rect2(192, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_mf5yu"]
atlas = ExtResource("2_l2v1k")
region = Rect2(256, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_s2ul5"]
atlas = ExtResource("2_l2v1k")
region = Rect2(320, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dj0v3"]
atlas = ExtResource("2_l2v1k")
region = Rect2(384, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1edh1"]
atlas = ExtResource("2_l2v1k")
region = Rect2(0, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_sjywx"]
atlas = ExtResource("2_l2v1k")
region = Rect2(64, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_h05i0"]
atlas = ExtResource("2_l2v1k")
region = Rect2(128, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_fumfe"]
atlas = ExtResource("2_l2v1k")
region = Rect2(192, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_k4tw6"]
atlas = ExtResource("2_l2v1k")
region = Rect2(256, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_140ee"]
atlas = ExtResource("2_l2v1k")
region = Rect2(320, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_fsx72"]
atlas = ExtResource("2_l2v1k")
region = Rect2(384, 192, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_oric3"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_l2v1k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ya6j6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0qy4j")
}],
"loop": true,
"name": &"After_Eating",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4pcbe")
}],
"loop": true,
"name": &"Dash",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8v6aa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xvyn7")
}],
"loop": false,
"name": &"Dash_Finish",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0hlw3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4vu8n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kc20y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lsi8j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hhiii")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wpkk7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_myy50")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_usugt")
}],
"loop": true,
"name": &"Death",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3qshy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5acq0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5h06g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_twf7n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qmjc7")
}],
"loop": true,
"name": &"Digesting_Idle",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ybrxc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fkrvq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_op12o")
}],
"loop": true,
"name": &"Digesting_Walk",
"speed": 6.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_b6jla")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vwic4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_epw4f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wu81v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_whrvk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n0oma")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vmqm0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mf5yu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s2ul5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dj0v3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1edh1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sjywx")
}],
"loop": true,
"name": &"Idle",
"speed": 16.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_h05i0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fumfe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k4tw6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_140ee")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fsx72")
}],
"loop": true,
"name": &"Walk",
"speed": 10.0
}]

[sub_resource type="Curve" id="Curve_ya6j6"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.219016), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_0qy4j"]
curve = SubResource("Curve_ya6j6")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_8v6aa"]
lifetime_randomness = 0.37
particle_flag_disable_z = true
particle_flag_damping_as_friction = true
emission_shape = 1
emission_sphere_radius = 1.0
angle_min = -129.0
angle_max = 341.3
inherit_velocity_ratio = 0.551
spread = 19.404
initial_velocity_max = 29.28
gravity = Vector3(0, 96.095, 0)
radial_accel_min = -4.05
radial_accel_max = 46.95
damping_max = 1.351
scale_min = 13.64
scale_max = 18.42
scale_curve = SubResource("CurveTexture_0qy4j")
color = Color(1.44392e-06, 0.745324, 0.236615, 1)
hue_variation_min = -2.23517e-08
hue_variation_max = 0.12

[sub_resource type="SegmentShape2D" id="SegmentShape2D_l2v1k"]
a = Vector2(64, 50)
b = Vector2(-64, 50)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_ya6j6"]
a = Vector2(-76, 74)
b = Vector2(40, 76)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_0qy4j"]
a = Vector2(34, 24)
b = Vector2(-75.4298, 24.2972)

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("tile_movement_component", "energy_component")]
scale = Vector2(0.5, 0.5)
collision_mask = 0
floor_stop_on_slope = false
floor_block_on_wall = false
script = ExtResource("1_v4rts")
tile_movement_component = NodePath("TileMovementComponent")
energy_component = NodePath("EnergyComponent")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(2, -70)
shape = SubResource("CircleShape2D_h2yge")

[node name="TileMovementComponent" type="Node2D" parent="."]
script = ExtResource("3_ya6j6")
tilemap_path_small = NodePath("../../TileMaps/WalkablePathSmall")
tilemap_path_medium = NodePath("../../TileMaps/WalkablePathMedium")
tilemap_path_big = NodePath("../../TileMaps/WalkablePathBig")

[node name="EnergyComponent" type="Node" parent="."]
script = ExtResource("4_0qy4j")
initial_energy = 50.0

[node name="Area2D" type="Area2D" parent="."]
position = Vector2(-14, -6)
scale = Vector2(0.519999, 0.679998)
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(26.9231, -97.0591)
shape = SubResource("CircleShape2D_h2yge")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(0, -100)
scale = Vector2(4, 4)
sprite_frames = SubResource("SpriteFrames_oric3")
animation = &"After_Eating"

[node name="GPUParticles2D" type="GPUParticles2D" parent="AnimatedSprite2D"]
position = Vector2(16, 16.5)
rotation = -0.709909
scale = Vector2(13.615, 13.615)
amount = 23
amount_ratio = 0.3167
lifetime = 2.31
preprocess = 1.45
speed_scale = 2.36
explosiveness = 1.0
randomness = 1.0
collision_base_size = 0.0
draw_order = 0
trail_lifetime = 0.01
process_material = SubResource("ParticleProcessMaterial_8v6aa")

[node name="InternalWalls" type="Node2D" parent="."]

[node name="RigidBody2D" type="RigidBody2D" parent="InternalWalls"]
position = Vector2(0, -68)
collision_layer = 16
collision_mask = 16
can_sleep = false
freeze = true
freeze_mode = 1

[node name="UpperWall" type="CollisionShape2D" parent="InternalWalls/RigidBody2D"]
rotation = -3.14159
shape = SubResource("SegmentShape2D_l2v1k")
one_way_collision = true

[node name="DownWall" type="CollisionShape2D" parent="InternalWalls/RigidBody2D"]
shape = SubResource("SegmentShape2D_l2v1k")
one_way_collision = true

[node name="LeftWall" type="CollisionShape2D" parent="InternalWalls/RigidBody2D"]
position = Vector2(14, 18)
rotation = 1.5708
shape = SubResource("SegmentShape2D_ya6j6")
one_way_collision = true

[node name="RightWall" type="CollisionShape2D" parent="InternalWalls/RigidBody2D"]
position = Vector2(38, -20)
rotation = -1.5708
shape = SubResource("SegmentShape2D_0qy4j")
one_way_collision = true

[node name="InternalPhysicsBodies" type="Node2D" parent="."]
position = Vector2(0, -68)

[node name="EnemyInsideSlime" parent="InternalPhysicsBodies" instance=ExtResource("5_ya6j6")]
visible = false
position = Vector2(2, -70)

[node name="Digestao" type="Timer" parent="."]
wait_time = 0.12
autostart = true

[connection signal="body_entered" from="Area2D" to="." method="_on_area_2d_body_entered"]
[connection signal="animation_finished" from="AnimatedSprite2D" to="." method="_on_animated_sprite_2d_animation_finished"]
[connection signal="timeout" from="Digestao" to="." method="_on_digestao_timeout"]
